# <img width="20px"  src="https://d2gd6pc034wcta.cloudfront.net/tier/18.svg" class="solvedac-tier"> [RLE Inversion Counting](https://www.acmicpc.net/problem/28705) 

| 제출 번호 | 닉네임 | 채점 결과 | 메모리 | 시간 | 언어 | 코드 길이 |
|---|---|---|---|---|---|---|
|65045316|per_ardua_ad_astra|맞았습니다!! |300180KB|1572ms|PyPy3|1524B|

## 문제
<p>배열 $A$가 있습니다. 처음에 $A$는 빈 배열입니다. 다음과 같은 조작을 $M$번 해서 배열 $A$를 채웁니다.</p>

<ul>
	<li>$K$와 정수열 $B_1, \cdots, B_N$이 주어집니다. $A$의 가장 뒤에 $B_1, B_2, \cdots, B_N$을 차례로 이어붙이는 것을 $K$ 번 반복합니다.</li>
</ul>

<p>이렇게 만들어진 배열 $A_1, A_2, \cdots, A_{\lvert A \rvert}$에 대해 다음 조건을 만족시키는 $(i, j)$ 정수쌍의 개수를 출력하세요.</p>

<ul>
	<li>$1 \le i < j \le \lvert A \rvert$</li>
	<li>$A_i > A_j$</li>
</ul>

## 입력
<p>첫 줄에 조작의 횟수 $M$이 주어집니다. $(1 \le M \le 500\,000)$</p>

<p>다음 줄부터 $M$번의 조작에 관한 정보가 두 줄에 걸쳐 차례대로 $M$번 들어옵니다.</p>

<p>각 조작의 첫 줄에는 조작의 횟수 $K$와 배열의 길이 $N$이 공백으로 구분되어 주어집니다. $(1 \le K \le 10^9;$ $1 \le N \le 500\,000)$</p>

<p>다음 줄에는 배열의 원소를 의미하는 $B_1, B_2, \cdots, B_N$이 공백으로 구분되어 주어집니다. $(1 \le B_i \le 10^9)$</p>

<p>입력에서 주어지는 모든 $N$의 합은 $500\,000$ 이하입니다.</p>

## 출력
<p>문제의 조건을 만족시키는 $(i, j)$ 정수쌍의 개수를 출력하세요. 단, 수가 매우 커질 수 있으니 $1\,000\,000\,007 (= 10^9+7)$로 나눈 나머지를 출력하세요. $1\,000\,000\,007$은 소수입니다.</p>

